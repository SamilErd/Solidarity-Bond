{% extends 'base.html.twig' %}

{% block title %}Hello CartController!
{% endblock %}

{% block body %}
<div style="width:75%; margin: 0 auto">
    <div style="text-align:center">
        <h1>Votre panier</h1>
    </div>
    {% if items | length > 0 %}
        <table class="table">
            <thead>
                <th>Produit</th>
                <th>Prix</th>
                <th>Quantité</th>
                <th>Total</th>
                <th></th>
            </thead>
        <tbody>
            {% for item in items %}
               <tr>
                <th>{{item.product.ProductName}}</th>
                <th>{{item.product.Price}}</th>
                <th>{{item.quantity}}</th>
                <th>{{item.product.Price * item.quantity}}€</th>
                <th>
                    <a href="{{path('cart_remove', {'id' : item.product.id , 'url':  app.request.attributes.get('_route')  })   }}" class="btn btn-danger btn-sm">
                        <i class="fas fa-trash"></i>
                    </a>   
                </th>
            </tr> 
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3" class="text-right">Total : </td>
                <td>{{total}}€</td>
                <td>
                    <a class="btn" href="{{path('show_order')}}" id="button">Commander</a>
                </td>
            </tr>
        </tfoot>
    </table>

    {% else %}

    {% endif %}
</div>
{% endblock %}
